{
  "metadata": {
    "title": "Test Mystery",
    "author": "Claude Test Harness",
    "version": "1.0",
    "description": "A test mystery for validating the Mystery Engine"
  },
  "core": {
    "circumstance": {
      "location": "Orient Express",
      "time": "Night",
      "weather": "Stormy"
    }
  },
  "characters": {
    "detective": {
      "core": {
        "involvement": {
          "role": "Detective",
          "type": "Protagonist",
          "mystery_attributes": ["observant", "logical"]
        },
        "whereabouts": [
          {
            "key": "dining_car",
            "value": {
              "location": "dining_car",
              "action": "Having dinner",
              "events": ["overheard_argument"]
            }
          }
        ],
        "relationships": [
          {
            "key": "suspect_1",
            "value": {
              "attitude": "Suspicious",
              "history": ["Previous investigation"]
            }
          }
        ],
        "agenda": {
          "primary_goal": "Solve the mystery"
        }
      },
      "mind_engine": {
        "identity": {
          "name": "Inspector Poirot",
          "occupation": "Detective",
          "personality": {
            "O": 0.7,
            "C": 0.9,
            "E": 0.5,
            "A": 0.6,
            "N": 0.3
          }
        },
        "state_of_mind": {
          "worries": "Missing important clues",
          "feelings": "Determined",
          "reasoning_style": "Methodical"
        },
        "speech_patterns": {
          "vocabulary_level": "Sophisticated",
          "sentence_style": ["Formal", "Precise"],
          "speech_quirks": ["Uses third person occasionally"],
          "common_phrases": ["The little gray cells", "Precisely"]
        }
      },
      "initial_location": "dining_car.table_1",
      "key_testimonies": {
        "initial_observation": {
          "content": "I noticed something unusual about the victim's watch.",
          "reveals": "time_inconsistency",
          "requires": [],
          "state": "available",
          "methods": ["question"]
        }
      }
    },
    "suspect_1": {
      "core": {
        "involvement": {
          "role": "Suspect",
          "type": "Antagonist",
          "mystery_attributes": ["deceptive", "nervous"]
        },
        "whereabouts": [
          {
            "key": "passenger_car",
            "value": {
              "location": "passenger_car_1",
              "action": "Reading a book",
              "events": ["heard_scream"]
            }
          }
        ],
        "relationships": [
          {
            "key": "victim",
            "value": {
              "attitude": "Hateful",
              "history": ["Financial dispute", "Threatened victim"]
            }
          }
        ],
        "agenda": {
          "primary_goal": "Conceal involvement"
        }
      },
      "mind_engine": {
        "identity": {
          "name": "Count Andrenyi",
          "occupation": "Aristocrat",
          "personality": {
            "O": 0.3,
            "C": 0.4,
            "E": 0.7,
            "A": 0.2,
            "N": 0.8
          }
        },
        "state_of_mind": {
          "worries": "Being discovered",
          "feelings": "Anxious",
          "reasoning_style": "Defensive"
        },
        "speech_patterns": {
          "vocabulary_level": "Refined",
          "sentence_style": ["Short", "Evasive"],
          "speech_quirks": ["Frequently changes subject"],
          "common_phrases": ["I assure you", "That's preposterous"]
        }
      },
      "initial_location": "passenger_car_1.seat_2",
      "key_testimonies": {
        "false_alibi": {
          "content": "I was in my compartment all night.",
          "reveals": "lying_about_location",
          "requires": [],
          "state": "available",
          "methods": ["question"]
        }
      }
    },
    "witness": {
      "core": {
        "involvement": {
          "role": "Witness",
          "type": "Support",
          "mystery_attributes": ["observant", "honest"]
        },
        "whereabouts": [
          {
            "key": "dining_car",
            "value": {
              "location": "dining_car",
              "action": "Working",
              "events": ["saw_argument"]
            }
          }
        ],
        "relationships": [
          {
            "key": "victim",
            "value": {
              "attitude": "Neutral",
              "history": ["Regular customer"]
            }
          }
        ],
        "agenda": {
          "primary_goal": "Help with investigation"
        }
      },
      "mind_engine": {
        "identity": {
          "name": "Pierre Dubois",
          "occupation": "Train attendant",
          "personality": {
            "O": 0.5,
            "C": 0.8,
            "E": 0.6,
            "A": 0.7,
            "N": 0.4
          }
        },
        "state_of_mind": {
          "worries": "Job security",
          "feelings": "Helpful",
          "reasoning_style": "Detailed"
        },
        "speech_patterns": {
          "vocabulary_level": "Simple",
          "sentence_style": ["Deferential", "Precise"],
          "speech_quirks": ["Uses 'monsieur' frequently"],
          "common_phrases": ["At your service", "I recall clearly"]
        }
      },
      "initial_location": "dining_car.counter",
      "key_testimonies": {
        "overheard_argument": {
          "content": "I heard the Count arguing with the victim around 9 PM.",
          "reveals": "time_of_argument",
          "requires": ["ask_about_argument"],
          "state": "hidden",
          "methods": ["question", "evidence"]
        }
      }
    }
  },
  "environment": {
    "train_data": {
      "name": "Orient Express",
      "cars": [
        {
          "ID": "engine_car",
          "Type": "engine",
          "Class": "staff",
          "Properties": {
            "color": "#444444",
            "accessible": "staff_only"
          },
          "Locations": ["control_room", "engine_area", "coal_storage"],
          "ConnectedTo": ["dining_car"]
        },
        {
          "ID": "dining_car",
          "Type": "dining",
          "Class": "first_class",
          "Properties": {
            "color": "#8B4513",
            "lighting": "warm"
          },
          "Locations": ["entrance", "table_1", "table_2", "table_3", "counter", "kitchen_area", "walkway"],
          "ConnectedTo": ["engine_car", "passenger_car_1"]
        },
        {
          "ID": "passenger_car_1",
          "Type": "passenger",
          "Class": "first_class",
          "Properties": {
            "color": "#000080",
            "lighting": "dim"
          },
          "Locations": ["entrance", "seat_1", "seat_2", "seat_3", "seat_4", "walkway"],
          "ConnectedTo": ["dining_car", "passenger_car_2"]
        },
        {
          "ID": "passenger_car_2",
          "Type": "passenger",
          "Class": "second_class",
          "Properties": {
            "color": "#006400",
            "lighting": "bright"
          },
          "Locations": ["entrance", "seat_1", "seat_2", "seat_3", "seat_4", "walkway"],
          "ConnectedTo": ["passenger_car_1", "storage_car"]
        },
        {
          "ID": "storage_car",
          "Type": "storage",
          "Class": "staff",
          "Properties": {
            "color": "#696969",
            "lighting": "dark"
          },
          "Locations": ["entrance", "cargo_area", "luggage_section", "hidden_compartment"],
          "ConnectedTo": ["passenger_car_2"]
        }
      ]
    },
    "weather_conditions": {
      "rain": "heavy",
      "visibility": "poor",
      "temperature": "cold"
    }
  },
  "constellation": {
    "nodes": {
      "victim_watch": {
        "title": "Victim's Watch",
        "description": "An expensive pocket watch found on the victim. The time is stopped at 11:42 PM.",
        "type": "evidence",
        "category": "personal_item",
        "location": "passenger_car_1.seat_3",
        "PhysicalEvidence": true
      },
      "threatening_letter": {
        "title": "Threatening Letter",
        "description": "A letter threatening the victim, signed with the initials 'C.A.'",
        "type": "evidence",
        "category": "document",
        "location": "storage_car.hidden_compartment",
        "PhysicalEvidence": true
      },
      "train_schedule": {
        "title": "Train Schedule",
        "description": "Shows that the train was stopped from 11:30 PM to 12:15 AM due to snow on the tracks.",
        "type": "evidence",
        "category": "document",
        "location": "dining_car.counter",
        "PhysicalEvidence": true
      },
      "murder_weapon": {
        "title": "Antique Dagger",
        "description": "The murder weapon, an ornate dagger with a distinctive handle.",
        "type": "evidence",
        "category": "weapon",
        "location": "passenger_car_2.seat_2",
        "PhysicalEvidence": true
      }
    },
    "connections": [
      {
        "source": "victim_watch",
        "target": "train_schedule",
        "description": "The watch's stopped time coincides with when the train was stopped."
      },
      {
        "source": "threatening_letter",
        "target": "murder_weapon",
        "description": "The letter mentions a 'family heirloom' that will deliver justice, likely referring to the dagger."
      }
    ],
    "events": [
      {
        "id": "overheard_argument",
        "title": "Argument Overheard",
        "description": "The attendant overheard an argument between the Count and the victim in the dining car.",
        "time": "9:00 PM",
        "location": "dining_car",
        "characters": ["suspect_1", "victim"]
      },
      {
        "id": "murder",
        "title": "Murder",
        "description": "The victim was stabbed with an antique dagger.",
        "time": "11:42 PM",
        "location": "passenger_car_1",
        "characters": ["suspect_1", "victim"]
      }
    ]
  },
  "train_layout": {
    "cars": [
      {
        "CarId": "engine_car",
        "CarType": "engine",
        "CarClass": "staff",
        "Properties": {
          "color": "#444444",
          "accessible": "staff_only"
        },
        "AvailableLocations": ["control_room", "engine_area", "coal_storage"]
      },
      {
        "CarId": "dining_car",
        "CarType": "dining",
        "CarClass": "first_class",
        "Properties": {
          "color": "#8B4513",
          "lighting": "warm"
        },
        "AvailableLocations": ["entrance", "table_1", "table_2", "table_3", "counter", "kitchen_area", "walkway"]
      },
      {
        "CarId": "passenger_car_1",
        "CarType": "passenger",
        "CarClass": "first_class",
        "Properties": {
          "color": "#000080",
          "lighting": "dim"
        },
        "AvailableLocations": ["entrance", "seat_1", "seat_2", "seat_3", "seat_4", "walkway"]
      },
      {
        "CarId": "passenger_car_2",
        "CarType": "passenger",
        "CarClass": "second_class",
        "Properties": {
          "color": "#006400",
          "lighting": "bright"
        },
        "AvailableLocations": ["entrance", "seat_1", "seat_2", "seat_3", "seat_4", "walkway"]
      },
      {
        "CarId": "storage_car",
        "CarType": "storage",
        "CarClass": "staff",
        "Properties": {
          "color": "#696969",
          "lighting": "dark"
        },
        "AvailableLocations": ["entrance", "cargo_area", "luggage_section", "hidden_compartment"]
      }
    ],
    "connections": {
      "engine_car": {
        "ConnectedTo": "dining_car",
        "ConnectionType": "door"
      },
      "dining_car": {
        "ConnectedTo": "passenger_car_1",
        "ConnectionType": "door"
      },
      "passenger_car_1": {
        "ConnectedTo": "passenger_car_2",
        "ConnectionType": "door"
      },
      "passenger_car_2": {
        "ConnectedTo": "storage_car",
        "ConnectionType": "door"
      }
    }
  }
}