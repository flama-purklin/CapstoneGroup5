{
  "metadata": {
    "title": "Test Mystery",
    "author": "Test Harness",
    "version": "1.0",
    "description": "A simple test mystery for validating the Mystery Engine refactoring."
  },
  "core": {
    "circumstance": {
      "location": "Test Train",
      "time": "Night",
      "weather": "Stormy"
    }
  },
  "characters": {
    "detective": {
      "core": {
        "involvement": {
          "role": "Detective",
          "type": "Protagonist",
          "mystery_attributes": ["observant", "methodical"]
        },
        "whereabouts": [
          {
            "key": "initial",
            "value": {
              "location": "dining_car",
              "action": "Investigating"
            }
          }
        ],
        "relationships": [
          {
            "key": "suspect",
            "value": {
              "attitude": "Suspicious",
              "history": ["Previous encounter"],
              "known_secrets": []
            }
          }
        ],
        "agenda": {
          "primary_goal": "Solve the mystery"
        }
      },
      "mind_engine": {
        "identity": {
          "name": "Test Detective",
          "occupation": "Detective",
          "personality": {
            "O": 0.8,
            "C": 0.9,
            "E": 0.6,
            "A": 0.5,
            "N": 0.3
          }
        },
        "state_of_mind": {
          "worries": "Missing evidence",
          "feelings": "Determined",
          "reasoning_style": "Analytical"
        },
        "speech_patterns": {
          "vocabulary_level": "Advanced",
          "sentence_style": ["Precise", "Concise"],
          "speech_quirks": ["Occasional metaphors"],
          "common_phrases": ["Indeed", "Precisely", "Most interesting"]
        }
      },
      "initial_location": "dining_car.center"
    },
    "suspect": {
      "core": {
        "involvement": {
          "role": "Suspect",
          "type": "Antagonist",
          "mystery_attributes": ["nervous", "secretive"]
        },
        "whereabouts": [
          {
            "key": "initial",
            "value": {
              "location": "passenger_car_1",
              "action": "Sitting nervously"
            }
          }
        ],
        "relationships": [
          {
            "key": "detective",
            "value": {
              "attitude": "Wary",
              "history": ["Previous interrogation"],
              "known_secrets": []
            }
          }
        ],
        "agenda": {
          "primary_goal": "Avoid suspicion"
        }
      },
      "mind_engine": {
        "identity": {
          "name": "Test Suspect",
          "occupation": "Businessman",
          "personality": {
            "O": 0.4,
            "C": 0.7,
            "E": 0.3,
            "A": 0.5,
            "N": 0.8
          }
        },
        "state_of_mind": {
          "worries": "Being discovered",
          "feelings": "Anxious",
          "reasoning_style": "Defensive"
        },
        "speech_patterns": {
          "vocabulary_level": "Business jargon",
          "sentence_style": ["Evasive", "Hesitant"],
          "speech_quirks": ["Stammers when pressed"],
          "common_phrases": ["Absolutely not", "I assure you", "That's preposterous"]
        }
      },
      "initial_location": "passenger_car_1.window_seat"
    },
    "witness": {
      "core": {
        "involvement": {
          "role": "Witness",
          "type": "NPC",
          "mystery_attributes": ["observant", "helpful"]
        },
        "whereabouts": [
          {
            "key": "initial",
            "value": {
              "location": "dining_car",
              "action": "Having dinner"
            }
          }
        ],
        "relationships": [
          {
            "key": "suspect",
            "value": {
              "attitude": "Suspicious",
              "history": ["Overheard argument"],
              "known_secrets": ["Saw suspicious behavior"]
            }
          }
        ],
        "agenda": {
          "primary_goal": "Help the investigation"
        }
      },
      "mind_engine": {
        "identity": {
          "name": "Test Witness",
          "occupation": "Journalist",
          "personality": {
            "O": 0.7,
            "C": 0.6,
            "E": 0.8,
            "A": 0.7,
            "N": 0.4
          }
        },
        "state_of_mind": {
          "worries": "Personal safety",
          "feelings": "Curious",
          "reasoning_style": "Inquisitive"
        },
        "speech_patterns": {
          "vocabulary_level": "Educated",
          "sentence_style": ["Descriptive", "Detailed"],
          "speech_quirks": ["Asks rhetorical questions"],
          "common_phrases": ["Did you notice", "I couldn't help but observe", "Isn't that interesting"]
        }
      },
      "initial_location": "dining_car.table_front"
    }
  },
  "environment": {
    "train_layout": {
      "total_cars": 3,
      "car_order": ["engine", "passenger_car_1", "dining_car"]
    },
    "weather": "rainy",
    "time_of_day": "night"
  },
  "constellation": {
    "nodes": {
      "clue1": {
        "title": "Suspicious Letter",
        "description": "A crumpled letter with suspicious content",
        "physical_evidence": true,
        "location": "passenger_car_1.window_seat"
      },
      "clue2": {
        "title": "Fingerprints",
        "description": "Fingerprints found on a glass",
        "physical_evidence": true,
        "location": "dining_car.table_front"
      },
      "info1": {
        "title": "Witness Testimony",
        "description": "The witness saw something important",
        "physical_evidence": false
      }
    },
    "connections": [
      {
        "source": "clue1",
        "target": "clue2",
        "description": "The letter mentions fingerprints"
      },
      {
        "source": "clue2",
        "target": "info1",
        "description": "The witness saw who touched the glass"
      }
    ],
    "events": []
  },
  "train_layout": {
    "cars": [
      {
        "car_id": "engine",
        "car_type": "engine",
        "car_class": "utility",
        "available_locations": ["controls", "storage_area"]
      },
      {
        "car_id": "passenger_car_1",
        "car_type": "passenger",
        "car_class": "second_class",
        "available_locations": ["window_seat", "aisle_seat", "front", "back"]
      },
      {
        "car_id": "dining_car",
        "car_type": "dining",
        "car_class": "first_class",
        "available_locations": ["table_front", "table_back", "bar", "center"]
      }
    ],
    "connections": {
      "engine": {
        "connected_to": "passenger_car_1",
        "connection_type": "door"
      },
      "passenger_car_1": {
        "connected_to": "dining_car",
        "connection_type": "door"
      }
    }
  }
}
